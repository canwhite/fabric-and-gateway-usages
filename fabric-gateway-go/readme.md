# Hyperledger Fabric å®¢æˆ·ç«¯å¼€å‘æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ **Fabric Gateway** ä¸ Hyperledger Fabric ç½‘ç»œè¿›è¡Œäº¤äº’ï¼Œå®ç°äº†å®Œæ•´çš„èµ„äº§ç®¡ç†ç³»ç»Ÿã€‚

## æŠ€æœ¯æ ˆå¯¹æ¯”ï¼šfabric-sdk-go vs fabric-gateway

### ğŸ” æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”

| ç‰¹æ€§ç»´åº¦ | fabric-sdk-go | fabric-gateway |
|----------|---------------|----------------|
| **æ¶æ„å®šä½** | å®Œæ•´çš„ Fabric å®¢æˆ·ç«¯ SDK | è½»é‡çº§ç½‘å…³å®¢æˆ·ç«¯ |
| **å¤æ‚åº¦** | é«˜åº¦å¤æ‚ï¼Œéœ€è¦ç®¡ç†å¤šä¸ªç»„ä»¶ | ç®€å•ç›´è§‚ï¼ŒæŠ½è±¡åº¦é«˜ |
| **ä¾èµ–å…³ç³»** | éœ€è¦ç›´æ¥è¿æ¥ peerã€orderer | ä»…éœ€è¿æ¥ gateway æœåŠ¡ |
| **è¯ä¹¦ç®¡ç†** | éœ€è¦æ‰‹åŠ¨å¤„ç† MSPã€TLS è¯ä¹¦ | é€šè¿‡ç½‘å…³ç»Ÿä¸€ç®¡ç† |
| **èƒŒä¹¦æµç¨‹** | éœ€è¦æ‰‹åŠ¨æ”¶é›†èƒŒä¹¦ | ç½‘å…³è‡ªåŠ¨å¤„ç†èƒŒä¹¦ |
| **æœåŠ¡å‘ç°** | éœ€è¦æ‰‹åŠ¨é…ç½® | ç½‘å…³è‡ªåŠ¨å‘ç° |
| **äº‹ä»¶ç›‘å¬** | éœ€è¦æ‰‹åŠ¨è®¢é˜…äº‹ä»¶ | ç®€åŒ–çš„äº‹ä»¶å¤„ç† |
| **å¹¶å‘å¤„ç†** | éœ€è¦æ‰‹åŠ¨ç®¡ç†è¿æ¥æ±  | å†…ç½®è¿æ¥ç®¡ç† |

### ğŸ“‹ è¯¦ç»†å¯¹æ¯”åˆ†æ

#### 1. æ¶æ„å·®å¼‚

**fabric-sdk-go æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application   â”‚â”€â”€â”€â–¶â”‚   SDK Client    â”‚â”€â”€â”€â–¶â”‚   Fabric Peer   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚   Fabric Ordererâ”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚   Fabric CA     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**fabric-gateway æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application   â”‚â”€â”€â”€â–¶â”‚ Gateway Client  â”‚â”€â”€â”€â–¶â”‚ Fabric Gateway  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚   (æŠ½è±¡å±‚)      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚   å¤„ç†æ‰€æœ‰ç»†èŠ‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ä»£ç å¤æ‚åº¦å¯¹æ¯”

**fabric-sdk-go å…¸å‹ä»£ç ï¼š**
```go
// éœ€è¦æ‰‹åŠ¨å¤„ç†èƒŒä¹¦ã€æäº¤ã€ç›‘å¬äº‹ä»¶
package := sdk.ChannelContext("mychannel", 
    fabsdk.WithUser("User1"),
    fabsdk.WithOrg("Org1"))

response, err := client.Execute(
    channel.Request{
        ChaincodeID: "basic",
        Fcn:         "CreateAsset",
        Args:        [][]byte{[]byte("asset1"), []byte("blue")},
    },
    channel.WithRetry(retry.DefaultChannelOpts),
    channel.WithTargetEndpoints("peer0.org1.example.com"),
)
```

**fabric-gateway å…¸å‹ä»£ç ï¼š**
```go
// ç®€æ´çš„ API è°ƒç”¨
contract := gateway.GetNetwork("mychannel").GetContract("basic")
_, err := contract.SubmitTransaction("CreateAsset", "asset1", "blue")
```

#### 3. é…ç½®å¤æ‚åº¦

**fabric-sdk-go é…ç½®ï¼š**
```yaml
# éœ€è¦è¯¦ç»†é…ç½®è¿æ¥ profileã€MSPã€TLS ç­‰
client:
  organization: Org1
  logging:
    level: info

channels:
  mychannel:
    peers:
      peer0.org1.example.com:
        endorsingPeer: true
        chaincodeQuery: true
        ledgerQuery: true
        eventSource: true

organizations:
  Org1:
    mspid: Org1MSP
    cryptoPath: /path/to/crypto-config
    peers:
      - peer0.org1.example.com
```

**fabric-gateway é…ç½®ï¼š**
```go
// ä»…éœ€æä¾›åŸºæœ¬è¿æ¥ä¿¡æ¯
connection, err := NewGrpcConnection()
id := NewIdentity()
sign := NewSign()
gateway, err := client.Connect(id, client.WithSign(sign), client.WithClientConnection(connection))
```

#### 4. åŠŸèƒ½ç‰¹æ€§å¯¹æ¯”

| åŠŸèƒ½ç‰¹æ€§ | fabric-sdk-go | fabric-gateway |
|----------|---------------|----------------|
| **é“¾ç è°ƒç”¨** | âœ… å®Œæ•´æ”¯æŒ | âœ… ç®€åŒ–æ”¯æŒ |
| **äº‹ä»¶ç›‘å¬** | âœ… æ‰‹åŠ¨é…ç½® | âœ… ç®€åŒ–API |
| **ç§æœ‰æ•°æ®** | âœ… å®Œæ•´æ”¯æŒ | âœ… æ”¯æŒ |
| **å‘ç°æœåŠ¡** | âœ… æ‰‹åŠ¨é…ç½® | âœ… è‡ªåŠ¨å¤„ç† |
| **è´Ÿè½½å‡è¡¡** | âœ… æ‰‹åŠ¨å®ç° | âœ… è‡ªåŠ¨å®ç° |
| **é‡è¯•æœºåˆ¶** | âœ… æ‰‹åŠ¨é…ç½® | âœ… å†…ç½®å®ç° |
| **è¿æ¥æ± ** | âœ… æ‰‹åŠ¨ç®¡ç† | âœ… è‡ªåŠ¨ç®¡ç† |

#### 5. å­¦ä¹ æ›²çº¿

**fabric-sdk-go:**
- ğŸ“ˆ **é™¡å³­å­¦ä¹ æ›²çº¿**
- ğŸ“š éœ€è¦ç†è§£ Fabric æ¶æ„ç»†èŠ‚
- âš™ï¸ éœ€è¦é…ç½®å¤šä¸ªç»„ä»¶
- ğŸ”§ éœ€è¦å¤„ç†åº•å±‚ç½‘ç»œé€šä¿¡

**fabric-gateway:**
- ğŸ“‰ **å¹³ç¼“å­¦ä¹ æ›²çº¿**
- ğŸ“˜ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘
- âš™ï¸ æœ€å°åŒ–é…ç½®éœ€æ±‚
- ğŸš€ å¿«é€Ÿä¸Šæ‰‹å¼€å‘

#### 6. é€‚ç”¨åœºæ™¯

**fabric-sdk-go é€‚ç”¨äºï¼š**
- ğŸ—ï¸ éœ€è¦ç²¾ç»†æ§åˆ¶ Fabric æ“ä½œçš„å¤æ‚åº”ç”¨
- ğŸ” éœ€è¦è‡ªå®šä¹‰èƒŒä¹¦ç­–ç•¥çš„ä¼ä¸šçº§åº”ç”¨
- ğŸ“Š éœ€è¦é«˜çº§äº‹ä»¶å¤„ç†å’Œç›‘æ§çš„ç³»ç»Ÿ
- ğŸ”§ éœ€è¦ä¸ç°æœ‰ç³»ç»Ÿæ·±åº¦é›†æˆçš„åœºæ™¯

**fabric-gateway é€‚ç”¨äºï¼š**
- ğŸš€ å¿«é€ŸåŸå‹å¼€å‘å’Œ MVP
- ğŸ“± ç§»åŠ¨åº”ç”¨å’Œè½»é‡çº§å®¢æˆ·ç«¯
- ğŸŒ Web åº”ç”¨å’Œ RESTful API
- ğŸ‘¥ å¼€å‘è€…æ•™è‚²å’ŒåŸ¹è®­åœºæ™¯

### ğŸ¯ é€‰æ‹©å»ºè®®

#### é€‰æ‹© fabric-gateway å½“ï¼š
- âœ… è¿½æ±‚å¼€å‘æ•ˆç‡
- âœ… é¡¹ç›®æ—¶é—´ç´§è¿«
- âœ… å›¢é˜Ÿå¯¹ Fabric ä¸ç†Ÿæ‚‰
- âœ… æ ‡å‡†é“¾ç è°ƒç”¨åœºæ™¯
- âœ… éœ€è¦å¿«é€ŸéªŒè¯æ¦‚å¿µ

#### é€‰æ‹© fabric-sdk-go å½“ï¼š
- âœ… éœ€è¦é«˜åº¦å®šåˆ¶åŒ–
- âœ… å¤æ‚çš„ä¼ä¸šé›†æˆéœ€æ±‚
- âœ… éœ€è¦ç²¾ç»†çš„æ€§èƒ½æ§åˆ¶
- âœ… ç‰¹æ®Šçš„èƒŒä¹¦ç­–ç•¥è¦æ±‚
- âœ… å›¢é˜Ÿå…·å¤‡ Fabric ä¸“ä¸šçŸ¥è¯†

### ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ€§èƒ½æŒ‡æ ‡ | fabric-sdk-go | fabric-gateway |
|----------|---------------|----------------|
| **è¿æ¥å»ºç«‹æ—¶é—´** | è¾ƒæ…¢ï¼ˆéœ€å¤šä¸ªè¿æ¥ï¼‰ | è¾ƒå¿«ï¼ˆå•ä¸€è¿æ¥ï¼‰ |
| **äº¤æ˜“æäº¤å»¶è¿Ÿ** | ä¸­ç­‰ | è¾ƒä½ï¼ˆç½‘å…³ä¼˜åŒ–ï¼‰ |
| **å¹¶å‘å¤„ç†èƒ½åŠ›** | é«˜ï¼ˆæ‰‹åŠ¨ä¼˜åŒ–ï¼‰ | é«˜ï¼ˆè‡ªåŠ¨ä¼˜åŒ–ï¼‰ |
| **å†…å­˜ä½¿ç”¨** | è¾ƒé«˜ | è¾ƒä½ |
| **ç½‘ç»œå¼€é”€** | è¾ƒé«˜ | è¾ƒä½ |

### ğŸ› ï¸ è¿ç§»è€ƒè™‘

#### ä» fabric-sdk-go è¿ç§»åˆ° fabric-gatewayï¼š

**è¿ç§»æ­¥éª¤ï¼š**
1. **æ›¿æ¢è¿æ¥é€»è¾‘** - ä½¿ç”¨ Gateway è¿æ¥ä»£æ›¿ SDK è¿æ¥
2. **ç®€åŒ–é…ç½®** - ç§»é™¤å¤æ‚çš„è¿æ¥é…ç½®æ–‡ä»¶
3. **æ›´æ–° API è°ƒç”¨** - ä½¿ç”¨æ›´ç®€æ´çš„åˆçº¦è°ƒç”¨æ–¹å¼
4. **æµ‹è¯•éªŒè¯** - ç¡®ä¿åŠŸèƒ½ç­‰ä»·æ€§

**è¿ç§»æ”¶ç›Šï¼š**
- ğŸš€ å¼€å‘æ•ˆç‡æå‡ 60%
- ğŸ“‰ ä»£ç é‡å‡å°‘ 70%
- âš¡ éƒ¨ç½²å¤æ‚åº¦é™ä½ 80%
- ğŸ¯ ç»´æŠ¤æˆæœ¬é™ä½ 50%

### ğŸ“‹ ç‰ˆæœ¬å…¼å®¹æ€§

| Fabric ç‰ˆæœ¬ | fabric-sdk-go | fabric-gateway |
|-------------|---------------|----------------|
| **1.4.x** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **2.0.x** | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| **2.2.x** | âœ… æ”¯æŒ | âœ… æ¨è |
| **2.4.x+** | âœ… æ”¯æŒ | âœ… æ¨è |

### ğŸ¯ æœ¬é¡¹ç›®ä½¿ç”¨ fabric-gateway çš„åŸå› 

1. **æ•™è‚²ç›®çš„** - å¸®åŠ©å¼€å‘è€…å¿«é€Ÿç†è§£ Fabric å¼€å‘
2. **ç®€æ´æ€§** - é¿å…å¤æ‚çš„ SDK é…ç½®
3. **ç°ä»£æ€§** - ä½¿ç”¨æœ€æ–°çš„ Fabric å®¢æˆ·ç«¯æŠ€æœ¯
4. **æ•ˆç‡** - å‡å°‘æ ·æ¿ä»£ç ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘
5. **å¯ç»´æŠ¤æ€§** - ä»£ç æ›´æ˜“è¯»å’Œç»´æŠ¤

### ğŸ“š å­¦ä¹ èµ„æº

#### fabric-gateway èµ„æºï¼š
- [Hyperledger Fabric Gateway Client API](https://pkg.go.dev/github.com/hyperledger/fabric-gateway/pkg/client)
- [Fabric Gateway å®˜æ–¹æ–‡æ¡£](https://hyperledger-fabric.readthedocs.io/en/latest/gateway.html)

#### fabric-sdk-go èµ„æºï¼š
- [Fabric SDK Go å®˜æ–¹æ–‡æ¡£](https://pkg.go.dev/github.com/hyperledger/fabric-sdk-go)
- [Fabric SDK Go ç¤ºä¾‹](https://github.com/hyperledger/fabric-sdk-go/tree/main/test/fixtures)

### ğŸš€ å¿«é€Ÿå¼€å§‹

æœ¬é¡¹ç›®é‡‡ç”¨ **fabric-gateway** æŠ€æœ¯æ ˆï¼Œæä¾›ï¼š
- ç®€æ´çš„ API è®¾è®¡
- å®Œæ•´çš„èµ„äº§ç®¡ç†ç³»ç»Ÿ
- è¯¦ç»†çš„ä»£ç æ³¨é‡Š
- ä¸€ç«™å¼å¼€å‘ä½“éªŒ